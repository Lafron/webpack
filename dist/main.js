(()=>{"use strict";(e=>{const t=document.querySelector("#timer-hours"),o=document.querySelector("#timer-minutes"),r=document.querySelector("#timer-seconds"),a=e=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3;return{timeRemaining:t,hours:Math.floor(t/3600),minutes:Math.floor(t/60%60),seconds:Math.floor(t%60)}},n=n=>{n=a(e);for(let e in n)n[e]<10&&(n[e]="0"+n[e]);t.textContent=n.hours,o.textContent=n.minutes,r.textContent=n.seconds};(()=>{let c=a(e);c.timeRemaining>0?(n(c),setInterval(n,1e3,c)):(document.querySelector("#timer").style.color="red",t.textContent="00",o.textContent="00",r.textContent="00")})()})("1 january 2022"),(()=>{const e=document.querySelector("menu"),t=document.querySelector("main"),o=t=>{t.preventDefault(),e.classList.toggle("active-menu")};e.addEventListener("click",(e=>{e.target.closest(".close-btn")?o(e):e.target.closest("li>a")&&(e=>{e.preventDefault(),o(e);let t=e.target.href.indexOf("#"),r=e.target.href.substring(t);document.querySelector(r).scrollIntoView({behavior:"smooth"})})(e)})),t.addEventListener("click",(e=>{e.target.closest(".menu")?o(e):e.target.closest("a")&&(e=>{e.preventDefault();let t=e.target.parentElement,o=t.href.indexOf("#"),r=t.href.substring(o);document.querySelector(r).scrollIntoView({behavior:"smooth"})})(e)}))})(),(()=>{const e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),o=e.querySelector(".popup-content");let r=0;const a=()=>{let e=requestAnimationFrame(a);r<100?(r++,o.style.opacity=r/100):(r=100,cancelAnimationFrame(e))},n=()=>{let t=requestAnimationFrame(n);r>0?(r-=3,o.style.opacity=r/100):(r=0,cancelAnimationFrame(t),e.style.display="none")};t.forEach((t=>{t.addEventListener("click",(()=>{e.style.display="block",document.body.offsetWidth>768?(o.style.opacity=0,a()):o.style.opacity=100}))})),e.addEventListener("click",(t=>{t.target.closest(".popup-content")&&!t.target.closest(".popup-close")||(document.body.offsetWidth>768?n():e.style.display="none")}))})(),(()=>{const e=document.querySelector("div[class='calc-block']"),t=e.querySelector("select"),o=e.querySelectorAll("input[type='text']");o.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/\D+/,"")}))})),t.addEventListener("change",(()=>{o.forEach((e=>{e.value=""}))}));const r=document.querySelectorAll("form input[type='text']"),a=document.querySelectorAll("form input[type='email']"),n=document.querySelectorAll("form input[type='tel']"),c=document.querySelector("#form2-message");r.forEach((e=>{e.addEventListener("input",(e=>{e.target.value.match(/^[А-Яа-яёЁ]+$/)||(e.target.value="")}))})),n.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/\D+/,"")}))})),c.addEventListener("input",(e=>{e.target.value.match(/^[А-Яа-яёЁ]+$/)||(e.target.value="")})),a.forEach((e=>{e.addEventListener("input",(e=>{e.target.value.match(/^[a-zA-Z0-9@\-\_\.\!\~\*\']+$/)||(e.target.value="")})),e.addEventListener("blur",(()=>{l(e.value)||(e.value="")}))}));const l=e=>String(e).toLowerCase().match(/[\-\_\.\!\~\*\'\w]+@([\w]+\.)+[\w]+/gi)})(),(()=>{const e=document.querySelectorAll(".service-tab"),t=document.querySelector(".service-header"),o=document.querySelectorAll(".service-header-tab");t.addEventListener("click",(t=>{if(t.target.closest(".service-header-tab")){const r=t.target.closest(".service-header-tab");o.forEach(((t,o)=>{t===r?(t.classList.add("active"),e[o].classList.remove("d-none")):(t.classList.remove("active"),e[o].classList.add("d-none"))}))}}))})(),(()=>{const e=document.querySelector(".portfolio-content"),t=document.querySelectorAll(".portfolio-item"),o=document.querySelector("ul[class='portfolio-dots']"),r=[];let a,n=0;const c=(e,t,o)=>{e[t].classList.remove(o)},l=(e,t,o)=>{e[t].classList.add(o)},s=()=>{c(t,n,"portfolio-item-active"),c(r,n,"dot-active"),n++,n>=t.length&&(n=0),l(t,n,"portfolio-item-active"),l(r,n,"dot-active")},i=(e=1500)=>{0==r.length&&t.forEach(((e,t)=>{(e=document.createElement("li")).classList.add("dot"),0==t&&e.classList.add("dot-active"),r.push(e),o.appendChild(e)})),a=setInterval(s,e)};e.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot, .portfolio-btn")&&(c(t,n,"portfolio-item-active"),c(r,n,"dot-active"),e.target.matches("#arrow-right")?n++:e.target.matches("#arrow-left")?n--:e.target.classList.contains("dot")&&r.forEach(((t,o)=>{e.target===t&&(n=o)})),n>=t.length&&(n=0),n<0&&(n=t.length-1),l(t,n,"portfolio-item-active"),l(r,n,"dot-active"))})),e.addEventListener("mouseenter",(e=>{e.target.matches(".dot, .portfolio-btn")&&clearInterval(a)}),!0),e.addEventListener("mouseleave",(e=>{e.target.matches(".dot, .portfolio-btn")&&i(2e3)}),!0),i(2e3)})()})();